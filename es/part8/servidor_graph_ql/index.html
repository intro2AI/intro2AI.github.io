<!DOCTYPE html><html lang="es" class="notranslate" translate="no"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.70f9f39da8ee8af4c0b8.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);@import url(https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap:400,500,600);@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400);@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);@import url(https://fonts.googleapis.com/css2?family=Quando&display=swap);code[class*=language-],pre[class*=language-]{color:#fff;background:none;text-shadow:0 -.1em .2em #000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#4d4033}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:.3em solid #7a6652;border-radius:.5em;box-shadow:inset 1px 1px .5em #000}:not(pre)>code[class*=language-]{padding:.15em .2em .05em;border-radius:.3em;border:.13em solid #7a6652;box-shadow:inset 1px 1px .3em -.1em #000;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998066}.token.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#d1949e}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#bde052}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f5b83d}.token.atrule,.token.attr-value,.token.keyword{color:#d1949e}.token.important,.token.regex{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.deleted{color:red}.course{position:relative;width:100%}@media (min-width:992px){.course{display:flex;flex-wrap:nowrap;flex-direction:row;align-items:flex-start}}.course p{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif}@media (min-width:640px){.course p{margin-left:1rem}}.course p:not(:last-of-type){margin-bottom:1rem}@media (min-width:640px){.course h1{margin-left:3rem}}.course h2,.course h3,.course h4{padding-bottom:2rem}@media (min-width:640px){.course h2,.course h3,.course h4,.course table{margin-left:1rem}}.course ul{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif}@media (min-width:640px){.course ul{margin-left:2.2rem}}.course h2:not(:first-of-type){margin-top:2rem}.course pre{margin:2rem 0;background-color:#33332d;color:#fff}.course em{font-family:Courier;font-style:normal;background-color:hsla(0,0%,88.2%,.6);padding:1px 5px 2px}.course img{border:11px solid transparent}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:1.3em;transform:translate(-1rem)}@media (min-width:640px){.course .letter{transform:translate(-3rem,4.5rem)}}.course .letter,.course h1{font-size:2.3rem;font-weight:700}.course-content-container{width:100%}.course-content a,.tasks a{border:0;border-bottom-width:2px;border-style:solid;padding:2px}.course-content{width:90%;margin:0 auto;max-width:1200px}@media (min-width:992px){.course-content-inner{padding-left:30%;padding-right:5%}}.tasks a{border-color:#33332d!important}.tasks a:hover{background-color:#fff!important;color:#000!important}.gatsby-highlight-code-line{background-color:hsla(0,0%,88.2%,.3);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:1em}code[class*=language-],pre[class*=language-]{text-shadow:none}.arrow-go-up{width:36px;height:36px;position:fixed;bottom:5%;right:5%;z-index:99999;cursor:pointer}@media (max-width:639px){.arrow-go-up{right:10%}}.part-main__banner{background-position:50%;background-size:30%;padding-bottom:10%;background-repeat:no-repeat}@media (max-width:639px){.part-main__banner{background-position:top;background-size:70%;padding-bottom:30%!important}}.part-intro{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif!important}.part-intro p:not(:last-of-type){padding-bottom:2em}.part-intro__banner{background-size:50%;background-repeat:no-repeat;background-position:100%}@media (max-width:639px){.part-intro__banner{background-position:top;background-size:70%}.part-intro__banner>.container{margin-top:40%}}.part-intro a{border-bottom:1px solid #33332d}.part-intro a:hover{background-color:#fff}.arrow__container{position:relative}.arrow__container:not():first-child{background:none;background-color:none}@media (min-width:640px){.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjwhLS1HZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCktLT48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTM2MC43MzEsMjI5LjA3NWwtMjI1LjEtMjI1LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwcy01LjMsMTMuOCwwLDE5LjFsMjE1LjUsMjE1LjVsLTIxNS41LDIxNS41CgkJYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0YzMuNCwwLDYuOS0xLjMsOS41LTRsMjI1LjEtMjI1LjFDMzY1LjkzMSwyNDIuODc1LDM2NS45MzEsMjM0LjI3NSwzNjAuNzMxLDIyOS4wNzV6CgkJIi8+PC9nPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__wrapper:hover .arrow__point,.arrow__wrapper:hover .arrow__rectangle,.arrow__wrapper:hover .arrow__rectangle>a{background-color:#33332d!important;color:#fff!important}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;position:relative}@media (max-width:991px){.arrow__rectangle{font-size:1rem}}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}@media (max-width:639px){.arrow__wrapper--stacked .arrow__rectangle{border:none;background-color:transparent!important;padding:0;font-size:1rem;justify-content:unset}.arrow__wrapper--stacked .arrow__rectangle>p>span{border-bottom:1px solid #33332d;margin:auto}.arrow__wrapper--stacked .arrow__rectangle>p>span:hover{background-color:#fff!important;color:#000}.arrow__wrapper--stacked .arrow__point{display:none}}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:1rem}@media (min-width:640px){.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}}.arrow__wrapper--stacked .arrow__rectangle{position:relative}@media (min-width:640px){.arrow__wrapper--stacked .arrow__rectangle{padding:1.25rem}}@media (min-width:992px){.arrow__wrapper--stacked .arrow__rectangle{padding:1rem}}.arrow__wrapper--stacked .arrow__point{padding:1.08rem;margin-left:2px}@media (min-width:640px){.arrow__wrapper--stacked .arrow__point{margin-left:unset;padding:1.25rem}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow__point,.arrow__wrapper--stacked:hover .arrow__rectangle{background-color:#33332d!important}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow--stacked-letter,.arrow__wrapper--stacked:hover .arrow--stacked-title{color:#fff}}.arrow--stacked-title{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif}@media (min-width:640px){.arrow--stacked-title{white-space:nowrap}}.arrow__container--with-link{width:100%!important}@media (max-width:639px){.breadcrumb .arrow__wrapper{display:none}}.breadcrumb .arrow__wrapper:hover .arrow__point,.breadcrumb .arrow__wrapper:hover .arrow__rectangle{background-color:#33332d!important}.breadcrumb .arrow__wrapper:hover .arrow--stacked-letter,.breadcrumb .arrow__wrapper:hover .arrow--stacked-title{color:#fff}.breadcrumb .arrow__rectangle{position:relative}@media (max-width:639px){.breadcrumb .arrow__rectangle{border:none;padding:0;font-size:.7rem;white-space:nowrap;background-color:transparent!important;color:#33332d}}@media (max-width:639px){.breadcrumb .arrow__point{display:none}}.banner{display:flex;width:100%;align-items:center;position:relative;padding:2rem 0;background-color:#e1e1e1}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}html{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{margin:2rem 0 -.5rem;font-size:1.38316rem}h3,h4{padding:0;color:inherit;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{margin:2rem 0 -1rem;font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center;justify-content:center!important}@media (min-width:992px){.element--centered-in-desktop{align-items:center;justify-content:center!important}}@media (min-width:992px){.element--horizontal-half{width:45%}}.element--auto-margin{margin:auto}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.element--no-wrap{flex-wrap:nowrap}.element--relative{position:relative!important}.edit-link>span{border-bottom-width:3px;border-bottom-style:solid;border-bottom-color:inherit}body,html{margin:0;padding:0;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-weight:500;color:#33332d;font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}.main-wrapper{min-height:100vh;display:flex;flex-direction:column}.main-content{flex-grow:1}p{margin:0;text-align:left;line-height:1.5em}a,p{color:#33332d}a{text-decoration:none}.link a{border-bottom:2px solid #e1e1e1}.link a:hover{background-color:#e1e1e1}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1300px}@media (max-width:639px){.container{padding:0 20px}}@media (min-width:992px){.container--right{margin-right:5%;width:54%;max-width:779.9844px}}@media (min-width:992px) and (min-width:1300px){.container--right{margin-right:calc(50% - 650px)}}.hidden{display:none!important}.centered{text-align:center}@media (max-width:639px){.centered--mobile{justify-content:center;align-content:center;align-items:center}}.spacing{margin-top:2rem}@media (max-width:992px) and (min-width:640px){.spacing--tablet{margin-top:5rem!important}}@media (min-width:992px){.spacing{margin-top:5rem}}.spacing--small{margin-top:1rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4rem}@media (min-width:992px){.spacing--large{margin-top:10rem}}.spacing--extra-large{margin-top:4rem}@media (min-width:992px){.spacing--extra-large{margin-top:20rem}}.spacing--after{margin-bottom:2rem}@media (min-width:992px){.spacing--after{margin-bottom:4rem}}@media (max-width:639px){.spacing--after--mobile{margin-bottom:4rem}}@media (min-width:992px){.spacing--after-small{margin-bottom:2.5rem}}.spacing--after-large{margin-bottom:4rem}@media (min-width:992px){.spacing--after-large{margin-bottom:10rem}}@media (max-width:991px){.spacing--mobile{margin-top:2rem}}@media (max-width:1299px){.spacing--mobile--small{margin-top:1.5rem}}@media (max-width:1299px){.spacing--mobile--large{margin-top:3rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:639px){.col-1--mobile{width:10%!important}.col-2--mobile{width:20%!important}.col-3--mobile{width:30%!important}.col-4--mobile{width:40%!important}.col-5--mobile{width:50%!important}.col-6--mobile{width:60%!important}.col-7--mobile{width:70%!important}.col-8--mobile{width:80%!important}.col-9--mobile{width:90%!important}.col-10--mobile{width:100%!important}.push-right-1--mobile{margin-left:10%!important}.push-right-2--mobile{margin-left:20%!important}.push-right-3--mobile{margin-left:30%!important}.push-right-4--mobile{margin-left:40%!important}.push-right-5--mobile{margin-left:50%!important}.push-left-1--mobile{margin-right:10%!important}.push-left-2--mobile{margin-right:20%!important}.push-left-3--mobile{margin-right:30%!important}.push-left-4--mobile{margin-right:40%!important}.push-left-5--mobile{margin-right:50%!important}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}@media (max-width:1299px){.col-1--tablet{width:10%}.col-2--tablet{width:20%}.col-3--tablet{width:30%}.col-4--tablet{width:40%}.col-5--tablet{width:50%}.col-6--tablet{width:60%}.col-7--tablet{width:70%}.col-8--tablet{width:80%}.col-9--tablet{width:90%}.col-10--tablet{width:100%}.order-0--tablet{order:0}.order-1--tablet{order:1}.order-2--tablet{order:2}.order-3--tablet{order:3}.order-4--tablet{order:4}.order-5--tablet{order:5}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{text-decoration:none;color:#33332d;font-weight:500;padding:.2em}@media (min-width:640px){.nav-item-hover{font-weight:600}}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:#fff;background-color:#33332d!important}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}.index__main-title{font-size:1.571rem}@media (min-width:992px){.index__main-title{font-size:3rem}}.auto-bottom-margin{margin-bottom:auto}@media (min-width:992px){.absolute-top-right--desktop{position:absolute;top:0;right:0}}@media (min-width:640px){.frontpage__hero .image{top:-2em}}@media (min-width:992px){.frontpage__hero{flex-direction:column}.frontpage__hero .image{top:4em}}.frontpage-hero{flex-direction:column;flex-wrap:nowrap}@media (max-width:991px){.frontpage-hero__content{z-index:1;margin-bottom:3rem}}.frontpage-hero__heading{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-size:2rem}@media (min-width:640px){.frontpage-hero__heading{font-size:2.5rem}}@media (min-width:1300px){.frontpage-hero__heading{font-size:3rem}}.frontpage-hero__cta{display:inline-block;margin-bottom:4rem}.frontpage-hero__description{max-width:626px}@media (max-width:991px){.frontpage-hero__image{position:absolute!important;right:-5%;top:-40px;opacity:.3}.frontpage-hero__image img{transform:translateX(33%)}}@media (max-width:639px){.frontpage-hero__image{right:-40px}}.heading-font{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif}.about__challenge-button{box-shadow:-3px 5px #33332d;padding:.6rem 1rem;border:3px solid #33332d;font-weight:600}.about__challenge-button:hover{background-color:#33332d;color:#fff;cursor:pointer}.about__challenge-button--turquoise{background-color:#82f7eb}@media (max-width:1299px){.space-between--mobile{justify-content:space-between}}.challenge__banner{display:flex;justify-content:center;margin-bottom:-70px}@media (min-width:640px){.challenge__banner{transform:translateY(-10px)}}@media (min-width:1300px){.challenge__banner{margin-bottom:-370px}}.challenge__banner .image{margin:0;width:70%;transform:translateY(-25%)}@media (min-width:640px){.challenge__banner .image{transform:translateY(-10%)}}@media (min-width:1300px){.challenge__banner .image{transform:translateY(-30%)}}.review-carousel{display:flex;align-items:center;justify-content:space-between;width:100%;margin:2rem 0}.review-carousel .review{text-align:center;max-width:70%}.review-carousel button{background-color:#f0f0f0;border:none;padding:.5rem 1rem;cursor:pointer}.accordion__container{margin-bottom:1rem}.accordion__title{padding-left:2.149rem!important;padding-right:2.149rem!important;font-size:1.111rem!important;font-weight:600}.accordion{background-color:#fff;border:3px solid #33332d;border-radius:5px;color:#444;cursor:pointer;padding:1rem;width:100%;text-align:left;outline:none;font-size:15px;transition:max-width .4s}.accordion:hover,.active{background-color:#e1e1e1}.accordion:after{content:"+";font-size:1.5rem;float:right;margin-left:5px}.active{border-color:#fff}.active:after{content:"-";font-size:1.5rem}.panel{background-color:#fff;transition:height .3s;transition-timing-function:ease-in-out;overflow:hidden}.accordion--side-navigation{width:100%;margin-left:unset}.accordion--side-navigation .accordion{border:none;padding:0!important;background-color:transparent!important;color:#33332d!important;border-radius:0}.accordion--side-navigation .accordion__title{font-size:16px!important;font-weight:unset;background-color:transparent}.accordion--side-navigation .accordion__title:hover{background-color:#33332d!important;color:#fff!important}.accordion--side-navigation .panel{padding:1rem 0 0!important;background-color:transparent}.accordion--side-navigation .panel ul{margin-left:1rem}.accordion--side-navigation .accordion:hover,.accordion--side-navigation .active{background-color:#33332d;color:#fff}.accordion--side-navigation .accordion:after,.accordion--side-navigation .active:after{content:""}.body-text:not(:last-of-type){margin-bottom:2.5rem}.body-text__title{color:#33332d;font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}@media (min-width:640px){.companies__main-title .body-text__title{font-size:3rem}}.challenge-title{font-size:1.44rem}@media (min-width:992px){.company__logo{width:15%!important}}.content-liftup{position:relative;text-decoration:none}.content-liftup--small{box-sizing:border-box}.content-liftup--small>:last-child{margin-bottom:0}.content-liftup__name{margin-top:1.5rem;color:#33332d;font-weight:700}@media (min-width:992px){.content-liftup__name{margin-top:2rem}}.content-liftup__summary{margin-top:1rem;margin-bottom:3rem;color:#33332d;line-height:28px}.content-liftup__link{text-decoration:none;font-weight:700}.content-liftup .content-liftup__image:after,.content-liftup__link:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%}.content-liftup .content-liftup__image:after{opacity:.5;z-index:2}.footer{position:-webkit-sticky;position:sticky;z-index:9999999999;bottom:0;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:3rem;transition:all .2s ease-in-out}.footer--small{pointer-events:none}.footer__logo{margin:0 10px;pointer-events:auto}.triple-border{position:relative;padding:5px;border-radius:10px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{z-index:2;content:"";border:2px solid #33332d;border-radius:10px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{position:relative;overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.3rem;font-size:1.7rem;font-weight:600}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.header{position:-webkit-sticky;position:sticky;z-index:9999999999;top:0;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:1rem;transition:all .2s ease-in-out}.header--small{pointer-events:none}.header__logo{margin:0 10px;pointer-events:auto}.navigation{z-index:2;list-style:none;opacity:0;display:none;margin:0;padding:5%;flex-direction:column;justify-content:center;align-items:center;background:#e1e1e1;position:fixed;top:8%;right:5%;transition:opacity .3s ease-in-out;font-weight:200}@media (min-width:1300px){.navigation{display:flex;opacity:1;padding:0;font-weight:400;position:static;background:none;overflow:hidden;flex-direction:row}}@media (max-width:1299px){.navigation__wrapper .language-switcher{margin:20px 0 0}}@media (min-width:1300px){.navigation__wrapper{flex-grow:100}}.navigation__language-picker{margin-left:auto}.navigation__toggle{z-index:3;position:absolute;top:0;right:0;width:50px;height:40px;cursor:pointer;border:none;background:none;outline:none;border-radius:4px}@media (min-width:1300px){.navigation__toggle{display:none}}.navigation__mobile-logo{display:none}.navigation__toggle-icon{top:8px;left:10px}.navigation__toggle-icon,.navigation__toggle-icon:after,.navigation__toggle-icon:before{position:absolute;width:30px;height:3px;transition:all .3s ease;border-radius:4px;background-color:#33332d}.navigation__toggle-icon:after,.navigation__toggle-icon:before{content:"";display:block}.navigation__toggle-icon:before{top:10px}.navigation__toggle-icon:after{top:20px}.is-open--navigation{overflow:hidden;height:100vh}.is-open--navigation .navigation{opacity:1;display:unset}.is-open--navigation .navigation:before{content:"";background-color:#e1e1e1;position:absolute;width:25px;height:25px;top:-3px;right:13px;transform:rotate(45deg)}.is-open--navigation .navigation__mobile-logo{display:block;width:30px;height:30px;position:absolute;top:47px;left:5%}@media (min-width:1300px){.is-open--navigation .navigation__mobile-logo{display:none}}.is-open--navigation .navigation__toggle-icon{transform:translate3d(0,10px,0) rotate(45deg)}.is-open--navigation .navigation__toggle-icon,.is-open--navigation .navigation__toggle-icon:after,.is-open--navigation .navigation__toggle-icon:before{background:#33332d}.is-open--navigation .navigation__toggle-icon:before{transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.is-open--navigation .navigation__toggle-icon:after{transform:translate3d(0,-19px,0) rotate(-90deg)}.navigation__item{margin:22px 0;white-space:nowrap}.navigation__item:first-of-type{margin:0 0 22px}.navigation__item:last-of-type{margin:22px 0 0}@media (min-width:1300px){.navigation__item{margin:0 30px;padding:0!important}.navigation__item:first-of-type{margin:0 30px 0 2rem}.navigation__item:last-of-type{margin:0 0 0 30px}}.LanguagePicker-module--select--364N3{padding:3px 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #33332d;border-radius:5px;color:inherit;background-color:#fff;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 6px center;background-size:16px 12px;width:6.5rem}.SvgIcon-module--svgIcon--1nGJ6{-webkit-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;flex-shrink:0;font-size:1.5rem}.SrOnly-module--srOnly--2Hn2L{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.SearchLink-module--searchLink--2IShR{margin-left:auto;border-radius:4px;padding:4px;display:inline-flex}.SearchLink-module--searchLink--2IShR:hover{background-color:#33332d;color:#fff}.image__content{position:absolute;top:0;left:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image--contain .image__content{-o-object-fit:contain;object-fit:contain}.image{overflow:hidden;width:100%;position:relative}@media (min-width:992px){.image{width:40%}}.image .image__container{height:0;position:relative;width:100%;padding-bottom:89.0625%}.image--circle{border-radius:50%}.image--circle .image__content{background-color:#e1e1e1}.image--square-big{width:100%}.image--square-big .image__container{width:100%;padding-bottom:100%}.image--extra-small{width:8%}.image--extra-small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--extra-small{width:calc(33.33333% - 1rem)}}.image--small{width:15%}.image--small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--small{width:calc(33.33333% - 1rem)}}.image--medium{width:50%}.image--medium .image__container{width:100%;padding-bottom:71.25%}.image--large{width:100%}@media (min-width:992px){.image--large{width:60%}}.image--large .image__container{padding-bottom:59.37%;width:100%}.image--full-width{width:100%}.image--full-width .image__container{padding-bottom:59.37%;width:100%}.image--actual-size{width:100%}.image--actual-size .image__container{height:0;position:relative;width:100%;padding-bottom:60%}.form p{font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;font-size:.9rem;margin-bottom:10px}.form input{padding:1rem;border:1px solid #e1e1e1;outline:0}.form input:focus{border:1px solid #33332d}.form .submit{border:3px solid #33332d;background-color:#e1e1e1;padding:.7rem 2rem}.form .submit:hover{cursor:pointer;background-color:#33332d;color:#fff}.developer-story__image{margin-bottom:auto}.developer-story__name{margin-top:4rem;font-size:1.2rem}.developer-story__title{font-size:.9rem}.developer-story__read-more{margin-top:2rem;line-height:1.1rem;width:auto;background:none;color:inherit;padding:0!important;border:none;border-bottom:2px solid #e1e1e1;cursor:pointer}.developer-story__read-more:hover{background-color:#e1e1e1}.some-logo__link{margin:1rem 1rem 0 0;display:inline-block}.some-logo__image{width:1.5rem;height:1.5rem;margin:0}#footer{margin-top:auto}@media (min-width:992px){#footer{align-items:center}}#footer a:hover{background-color:transparent!important}#footer .footer__navigation{display:none}@media (max-width:1299px){#footer .footer__navigation{width:100%;display:block}#footer .footer__navigation-link-container{display:flex;flex-direction:column}}#footer .footer__navigation-link{font-size:1rem;line-height:18px;white-space:nowrap;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;margin-left:0!important;margin-right:auto}@media (max-width:639px){#footer .footer__navigation-link{line-height:8px}}#footer .footer__navigation-link:hover{color:#fff!important;background-color:#33332d!important}#footer .footer__navigation-link:nth-of-type(n+2){margin-top:2.142rem}@media (min-width:1300px){#footer .footer__navigation{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end}#footer .footer__navigation-link{margin-top:0!important;margin-bottom:auto}#footer .footer__navigation-link:nth-of-type(n+1){margin-right:2.877rem}#footer .footer__navigation-link:last-of-type{margin-right:0!important}}.prev-next__container .separator{display:none}@media (max-width:639px){.prev-next__container .separator{display:block;background-color:#33332d;width:2px!important}}.prev-next__container .prev b,.prev-next__container .prev p{text-align:right}@media (max-width:639px){.prev-next__container .prev p:before{content:"<";margin-right:1rem}}@media (max-width:639px){.prev-next__container .next p:after{content:">";margin-left:1rem}}.scroll-navigation-container{display:none}@media (min-width:992px){.scroll-navigation-container{pointer-events:none;display:block;font-size:16px;position:-webkit-sticky;position:sticky;width:100%;margin-right:-100%;left:0;top:-100px;padding-top:200px}}.scroll-navigation-container-inner{width:90%;margin:0 auto;max-width:1200px}.scroll-navigation{pointer-events:auto;display:flex;width:30%;max-width:30%/.9;height:100%;overflow-y:auto;max-height:calc(100vh - 100px);padding-right:1rem;z-index:199}.scroll-navigation li{list-style-type:none}.scroll-navigation li.selected a,.scroll-navigation li:hover a{background-color:#33332d;color:#fff!important}.scroll-navigation li:before{content:"-"}.left-navigation-link{padding-left:1.2rem;text-indent:-1.2rem;display:block}.left-navigation-link:hover{background-color:#33332d!important;color:#fff!important}.level-h1{font-weight:700;padding-left:2.8rem;text-indent:-2.8rem}.level-h2{padding-left:1.6rem;text-indent:-1.6rem}.sub-header{color:#33332d;font-family:Mukta,Nirmala UI,Kohinoor Devanagari,Noto Sans Devanagari,sans-serif;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}.InputField-module--inputField--3oXh5{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border:0;font-family:inherit;padding:16px 12px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.3);color:#000;transition:all .15s ease}.InputField-module--inputField--3oXh5:hover{box-shadow:inset 0 -2px 0 rgba(0,0,0,.4)}.InputField-module--inputField--3oXh5:focus{outline:none;box-shadow:inset 0 -2px 0 rgba(0,0,0,.5)}</style><meta name="generator" content="Gatsby 2.30.1"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">intro2AI part8 | </title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" property="og:title" content="intro2AI part8 | "/><meta data-react-helmet="true" property="og:description" content=""/><meta data-react-helmet="true" name="og:image" content="/static/seo_image-939e8e249cf62a835ed560f6da4200ad.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="SUN WATER INTERNET"/><meta data-react-helmet="true" name="twitter:title" content="intro2AI part8 | "/><meta data-react-helmet="true" name="twitter:description" content=""/><meta data-react-helmet="true" name="twitter:image" content="/static/seo_image-939e8e249cf62a835ed560f6da4200ad.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="ds9pQKiK3kjhRSHHbf5ccoG-oJggn7Lq4A8uHxM3Mkw"/><meta data-react-helmet="true" name="robots" content="notranslate"/><meta data-react-helmet="true" name="keywords" content="AI, Kartik Chincholikar, course, Data Science, Machine Learning, mooc, mooc.en, Domain Experts, Subject Matter Experts, Industry Professionals, Feasibility, LLM, Large Language Models, Science, Arts, Humanities, Business, learn, Coursera, workshop, no bullshit, Artificial Intelligence, Manufacturing, Deep Learning, Applied, AI powered, google, virtual, graphs, protein, biotech, medicine, chatgpt, "/><link rel="icon" href="/favicon-32x32.png?v=6460c405ec32c913ef778f48c5ab192e" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#e1e1e1"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="canonical" href="https://intro2ai.github.io/es/part8/servidor_graph_ql" data-baseprotocol="https:" data-basehost="intro2ai.github.io"/><link as="script" rel="preload" href="/5d7a54886b2742230021cc39eab839038eb7a677-2a4fb02526d2ee9cb0a8.js"/><link as="script" rel="preload" href="/framework-a1179eda714587e8cda5.js"/><link as="script" rel="preload" href="/component---src-templates-content-template-js-5a2eba52ac710f78d132.js"/><link as="script" rel="preload" href="/ff8e348e8d42e8d61f84312613c75c948ce81396-7675dcb8ca214a497e52.js"/><link as="script" rel="preload" href="/e4b9374bcd292c90587e3ccf579324c3065ac22f-24bff6830e1bf9fb408f.js"/><link as="script" rel="preload" href="/app-6d0a74c6b0a59bb6d9ad.js"/><link as="script" rel="preload" href="/30844a71ec80b1e82ad30323d06b914984ff6c2b-55494ae4d2aa7cf0ada5.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/webpack-runtime-0d57736b146878155835.js"/><link as="fetch" rel="preload" href="/page-data/es/part8/servidor_graph_ql/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="main-wrapper"><div class="header " style="background-color:white"><div class="container" style="align-items:center;justify-content:flex-start"><div class="navigation__wrapper "><button aria-label="Navigation menu" aria-expanded="false" class="navigation__toggle"><div class="navigation__toggle-icon"></div></button><nav><ul class="navigation"><li class="navigation__item "><a class="nav-item-hover" href="/es/#course-contents">homePage</a></li><li class="navigation__item "><a class="nav-item-hover" href="/es/faq">Preguntas frecuentes</a></li><li class="navigation__item "><a class="nav-item-hover" href="/es/companies">Partners</a></li></ul></nav></div></div></div><main class="main-content"><div class="course-container spacing--after"><div class="banner part-main__banner spacing--mobile--small" style="background-image:url(/static/8ac7bc0fb2b7018a7853b00c454b2103/part-8.svg);background-color:#D4FCB5"><div class="container spacing--after"><div class="col-10 spacing--after"><div class="arrow__container arrows--horizontal breadcrumb"><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/es/#course-contents">intro2AI</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/es/part8">Part 8</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#33332d;color:white">Servidor GraphQL</div><div class="arrow__point " style="background-color:#33332d;color:white"></div></div></div></div></div></div><div class="course "><div class="scroll-navigation-container "><div class="scroll-navigation-container-inner "><div class="scroll-navigation  element--column" tag="ul"><div class="accordion__container col-8 accordion--side-navigation"><button class="accordion accordion__title  " style="background-color:#D4FCB5;border-color:#D4FCB5">a Servidor GraphQL</button><div class="panel" style="padding:;max-height:0;transition:max-height 0.2s ease-out"><ul></ul></div></div><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part8/react_y_graph_ql">b React y GraphQL</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part8/administracion_de_bases_de_datos_y_usuarios">c Administración de bases de datos y usuarios</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part8/iniciar_sesion_y_actualizar_la_cache">d Iniciar sesión y actualizar la caché</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part8/fragmentos_y_suscripciones">e Fragmentos y suscripciones</a></div></div></div><div class="course-content-container "><div class="course-content element--auto-bottom-margin"><div class="course-content-inner "><p class="col-1 letter" style="border-color:#D4FCB5">a</p><h1 class="sub-header ">Servidor GraphQL</h1></div></div><div class="course-content "><div class="course-content-inner ">
<p>REST, familiar para nosotros de las partes anteriores del curso, ha sido durante mucho tiempo la forma más frecuente de implementar las interfaces que ofrecen los servidores para los navegadores y, en general, la integración entre diferentes aplicaciones en la web.</p>
<p>En los últimos años <a href="http://graphql.org/">GraphQL</a>, desarrollado por Facebook, se ha vuelto popular para la comunicación entre aplicaciones web y servidores.</p>
<p>La filosofía GraphQL es muy diferente a REST. REST está <i>basado en recursos</i>. Cada recurso, por ejemplo un <i>usuario</i> tiene su propia dirección que lo identifica, por ejemplo <i>/users/10</i>. Todas las operaciones realizadas en el recurso se realizan con solicitudes HTTP a su URL. La acción depende del método HTTP utilizado.</p>
<p>La base de recursos de REST funciona bien en la mayoría de situaciones. Sin embargo, a veces puede resultar un poco incómodo.</p>
<p>Supongamos que nuestra aplicación de lista de blogs contiene una funcionalidad similar a las de las redes sociales y, por ejemplo, queremos mostrar una lista de todos los blogs que los usuarios que han comentado sobre los blogs que seguimos han agregado.</p>
<p>Si el servidor implementara una API REST, probablemente tendríamos que hacer varias solicitudes HTTP desde el navegador antes de tener todos los datos que queríamos. Las solicitudes también devolverían una gran cantidad de datos innecesarios y el código en el navegador probablemente sería bastante complicado.</p>
<p>Si esta fuera una funcionalidad de uso frecuente, podría haber un endpoint REST para ella. Sin embargo, si hubiera muchos de estos tipos de escenarios, sería muy laborioso implementar endpoints REST para todos ellos.</p>
<p>Un servidor GraphQL es adecuado para este tipo de situaciones.</p>
<p>El principio fundamental de GraphQL es que el código del navegador forma una <i>consulta</i> que describe los datos deseados y los envía a la API con una solicitud HTTP POST. A diferencia de REST, todas las consultas GraphQL se envían a la misma dirección y su tipo es POST.</p>
<p>Los datos descritos en el escenario anterior podrían obtenerse con (aproximadamente) la siguiente consulta:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash">query FetchBlogsQuery <span class="token punctuation">{</span>
  user<span class="token punctuation">(</span>username: <span class="token string">&quot;mluukkai&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    followedUsers <span class="token punctuation">{</span>
      blogs <span class="token punctuation">{</span>
        comments <span class="token punctuation">{</span>
          user <span class="token punctuation">{</span>
            blogs <span class="token punctuation">{</span>
              title
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La respuesta de los servidores sería sobre el siguiente objeto JSON:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;followedUsers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;blogs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token string">&quot;comments&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token string">&quot;user&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                  <span class="token string">&quot;blogs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                      <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Goto considered harmful&quot;</span>
                    <span class="token punctuation">}</span>,
                    <span class="token punctuation">{</span>
                      <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;End to End Testing with Cypress is most enjoyable&quot;</span>
                    <span class="token punctuation">}</span>,
                    <span class="token punctuation">{</span>
                      <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Navigating your transition to GraphQL&quot;</span>
                    <span class="token punctuation">}</span>,
                    <span class="token punctuation">{</span>
                      <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;From REST to GraphQL&quot;</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La lógica de la aplicación se mantiene simple y el código en el navegador obtiene exactamente los datos que necesita con una sola consulta.</p>
<h3>Esquemas y consultas</h3>
<p>Conoceremos los conceptos básicos de GraphQL mediante la implementación de una versión GraphQL de la aplicación de directorio telefónico de las partes 2 y 3.</p>
<p>En el corazón de todas las aplicaciones GraphQL hay un <a href="https://graphql.org/learn/schema/">esquema</a>, que describe los datos enviados entre el cliente y el servidor. El esquema inicial de nuestra agenda telefónica es el siguiente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type Person <span class="token punctuation">{</span>
  name<span class="token operator">:</span> String<span class="token operator">!</span>
  phone<span class="token operator">:</span> String
  street<span class="token operator">:</span> String<span class="token operator">!</span>
  city<span class="token operator">:</span> String<span class="token operator">!</span>
  id<span class="token operator">:</span> <span class="token constant">ID</span><span class="token operator">!</span> 
<span class="token punctuation">}</span>

type Query <span class="token punctuation">{</span>
  personCount<span class="token operator">:</span> Int<span class="token operator">!</span>
  allPersons<span class="token operator">:</span> <span class="token punctuation">[</span>Person<span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token operator">!</span><span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="token punctuation">}</span></code></pre></div>
<p>El esquema describe dos <a href="https://graphql.org/learn/schema/#type-system">tipos</a>. El primer tipo, <i>Person</i>, determina que las personas tienen cinco campos. Cuatro de los campos son de tipo <i>String</i>, que es uno de los <a href="https://graphql.org/learn/schema/#scalar-types">tipos escalares</a> de GraphQL.
Todos los campos de cadena, excepto <i>phone</i>, deben tener un valor. Esto está marcado por el signo de exclamación en el esquema. El tipo de campo <i>id</i> es <i>ID</i>. Los campos <i>ID</i> son cadenas, pero GraphQL garantiza que sean únicos.</p>
<p>El segundo tipo es una <a href="https://graphql.org/learn/schema/#the-query-and-mutation-types">Consulta</a>. Prácticamente todos los esquemas GraphQL describen una consulta, que indica qué tipo de consultas se pueden realizar a la API.</p>
<p>La agenda telefónica describe tres consultas diferentes. <em>personCount</em> devuelve un número entero, <em>allPersons</em> devuelve una lista de objetos <i>Person</i> y <i>findPerson</i> recibe un parámetro de cadena y devuelve un objeto <i>Person</i>.</p>
<p>Nuevamente, los signos de exclamación se utilizan para marcar qué valores y parámetros de retorno son <i>No nulos</i>. <em>personCount</em>, seguro, devolverá un número entero. La consulta <em>findPerson</em> debe recibir una cadena como parámetro. La consulta devuelve un objeto <i>Person</i> o <i>null</i>. <em>allPersons</em> devuelve una lista de objetos <i>Person</i> y la lista no contiene ningún valor <i>nulo</i>.</p>
<p>Entonces, el esquema describe qué consultas puede enviar el cliente al servidor, qué tipo de parámetros pueden tener las consultas y qué tipo de datos devuelven las consultas.</p>
<p>La consulta más simple, <em>personCount</em>, tiene el siguiente aspecto:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  personCount
<span class="token punctuation">}</span></code></pre></div>
<p>Suponiendo que nuestras aplicaciones han guardado la información de tres personas, la respuesta se vería así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;personCount&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La consulta que obtiene la información de todas las personas, <em>allPersons</em>, es un poco más complicada. Como la consulta devuelve una lista de objetos <i>Person</i>, la consulta debe describir
<i>que <a href="https://graphql.org/learn/queries/#fields">campos</a></i> de los objetos devuelve la consulta:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allPersons <span class="token punctuation">{</span>
    name
    phone
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El la respuesta podría verse así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;allPersons&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;040-123543&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Matti Luukkainen&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;040-432342&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Venla Ruuska&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Se puede realizar una consulta para devolver cualquier campo descrito en el esquema. Por ejemplo, lo siguiente también sería posible:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allPersons<span class="token punctuation">{</span>
    name
    city
    street
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El último ejemplo muestra una consulta que requiere un parámetro y devuelve los detalles de una persona.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    phone 
    city 
    street
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Entonces, primero el parámetro se describe entre paréntesis y luego los campos del objeto de valor de retorno se enumeran entre paréntesis.</p>
<p>La respuesta es así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;findPerson&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;040-123543&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Espoo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tapiolankatu 5 A&quot;</span>
      <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3d594650-3436-11e9-bc57-8b80ba54c431&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El valor de retorno se marcó como anulable, así que si buscamos los detalles de una consulta desconocida</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Donald Trump&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    phone 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>el valor de retorno es <i>nulo</i>.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;findPerson&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Como puede ver, existe un vínculo directo entre una consulta GraphQL y el objeto JSON devuelto. Se puede pensar que la consulta describe qué tipo de datos quiere como respuesta.
La diferencia con las consultas REST es marcada. Con REST, la URL y el tipo de solicitud no tienen nada que ver con la forma de los datos devueltos.</p>
<p>La consulta GraphQL describe solo los datos que se mueven entre un servidor y el cliente. En el servidor los datos se pueden organizar y guardar como queramos.</p>
<p>A pesar de su nombre, GraphQL en realidad no tiene nada que ver con las bases de datos. No le importa cómo se guardan los datos.
Los datos que utiliza una API GraphQL se pueden guardar en una base de datos relacional, base de datos de documentos o en otros servidores a los que el servidor GraphQL puede acceder con, por ejemplo, REST.</p>
<h3>servidor Apollo</h3>
<p>Implementemos un servidor GraphQL con la biblioteca líder en la actualidad <a href="https://www.apollographql.com/docs/apollo-server/">Apollo-server</a>.</p>
<p>Cree un nuevo proyecto npm con <em>npm init</em> e instale las dependencias necesarias.</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> apollo-server graphql</code></pre></div>
<p>El código inicial es el siguiente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> ApolloServer<span class="token punctuation">,</span> gql <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;apollo-server&#x27;</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> persons <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;040-123543&quot;</span><span class="token punctuation">,</span>
    street<span class="token operator">:</span> <span class="token string">&quot;Tapiolankatu 5 A&quot;</span><span class="token punctuation">,</span>
    city<span class="token operator">:</span> <span class="token string">&quot;Espoo&quot;</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">&quot;3d594650-3436-11e9-bc57-8b80ba54c431&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Matti Luukkainen&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;040-432342&quot;</span><span class="token punctuation">,</span>
    street<span class="token operator">:</span> <span class="token string">&quot;Malminkaari 10 A&quot;</span><span class="token punctuation">,</span>
    city<span class="token operator">:</span> <span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">&#x27;3d599470-3436-11e9-bc57-8b80ba54c431&#x27;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Venla Ruuska&quot;</span><span class="token punctuation">,</span>
    street<span class="token operator">:</span> <span class="token string">&quot;Nallemäentie 22 C&quot;</span><span class="token punctuation">,</span>
    city<span class="token operator">:</span> <span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">&#x27;3d599471-3436-11e9-bc57-8b80ba54c431&#x27;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> typeDefs <span class="token operator">=</span> gql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  type Person {
    name: String!
    phone: String
    street: String!
    city: String! 
    id: ID!
  }

  type Query {
    personCount: Int!
    allPersons: [Person!]!
    findPerson(name: String!): Person
  }
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  Query<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">personCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    <span class="token function-variable function">allPersons</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">,</span>
    <span class="token function-variable function">findPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  typeDefs<span class="token punctuation">,</span>
  resolvers<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> url <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server ready at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>El corazón del código es un <em>ApolloServer</em>, al que se le dan dos parámetros</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  typeDefs<span class="token punctuation">,</span>
  resolvers<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>El primer parámetro, <em>typeDefs</em>, contiene el esquema GraphQL.</p>
<p>El segundo parámetro es un objeto, que contiene los <a href="https://www.apollographql.com/docs/tutorial/resolvers/">resolutores</a> del servidor. Estos son el código, que define <i>cómo</i> se responde a las consultas GraphQL.</p>
<p>El código de los resolutores es el siguiente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  Query<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">personCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    <span class="token function-variable function">allPersons</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">,</span>
    <span class="token function-variable function">findPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Como puede ver, los resolutores corresponden a las consultas descritas en el esquema.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type Query <span class="token punctuation">{</span>
  personCount<span class="token operator">:</span> Int<span class="token operator">!</span>
  allPersons<span class="token operator">:</span> <span class="token punctuation">[</span>Person<span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token operator">!</span><span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="token punctuation">}</span></code></pre></div>
<p>Así que hay un campo debajo de <i>Query</i> para cada consulta descrita en el esquema.</p>
<p>La consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  personCount
<span class="token punctuation">}</span></code></pre></div>
<p>Tiene el resolutor</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length</code></pre></div>
<p>Por tanto, la respuesta a la consulta es la longitud de la matriz <em>persons</em>.</p>
<p>La consulta que obtiene todas las personas</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allPersons <span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>tiene un resolutor que devuelve <i>todos</i> los objetos de la matriz <em>persons</em>.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons</code></pre></div>
<h3>GraphQL-playground</h3>
<p>Cuando Apollo-server se ejecuta en modo de desarrollo (<em>node filename.js</em>), inicia un <a href="https://www.apollographql.com/docs/apollo-server/testing/graphql-playground/">GraphQL-playground</a> en la dirección <a href="http://localhost:4000/graphql">http://localhost:4000/graphql</a>. Esto es muy útil para un desarrollador y se puede utilizar para realizar consultas al servidor.</p>
<p>Probemos</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/4d5c5a2b6f5e8141123b87fa1ab49e94/5a190/1.png"/></picture>
<p>A veces, Playground requiere que seas bastante pedante. Si la sintaxis de una consulta es incorrecta, el mensaje de error es bastante imperceptible y no sucede nada cuando presiona go.</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/dc95465e66af26cee553a04865345461/5a190/2.png"/></picture>
<p>El resultado de la consulta anterior permanece visible en el lado derecho del campo de juegos incluso cuando la consulta actual es defectuosa.</p>
<p>Al señalar el lugar correcto en la línea con los errores, puede ver el mensaje de error</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/f4d91f847d2f1abec1d1b57496086250/5a190/3.png"/></picture>
<p>Si el patio de juegos parece estar atascado, actualizar la página generalmente ayuda.</p>
<p>Al hacer clic en el texto <i>DOCS</i> a la derecha, la zona de juegos muestra el esquema GraphQL del servidor.</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/57b7e8a2112ff1b0ef02f57de816cfb4/5a190/4e.png"/></picture>
<h3>Parámetros de un resolutor</h3>
<p>La consulta que obtiene una sola persona</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    phone 
    city 
    street
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>tiene un resolutor que se diferencia de los anteriores porque se le dan <i>dos parámetros</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre></div>
<p>El segundo parámetro, <em>args</em>, contiene los parámetros de la consulta.
El resolutor luego devuelve del arreglo <em>persons</em> a la persona cuyo nombre es el mismo que el valor de <i>args.name</i>.
El resolutor no necesita el primer parámetro <em>root</em>.</p>
<p>De hecho, todas las funciones de resolución tienen <a href="https://www.graphql-tools.com/docs/resolvers#resolver-function-signature">cuatro parámetros</a>. Con JavaScript, los parámetros no tienen que estar definidos, si no son necesarios. Usaremos el primer y tercer parámetro de un resolutor más adelante en esta parte.</p>
<h3>El solucionador predeterminado</h3>
<p>Cuando hacemos una consulta, por ejemplo</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    phone 
    city 
    street
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>el servidor sabe devolver exactamente los campos requeridos por la consulta. ¿Cómo sucede eso?</p>
<p>Un servidor GraphQL debe definir resolutores para <i>cada</i> campo de cada tipo en el esquema.
Hasta ahora solo hemos definido resolutores para campos del tipo <i>Query</i>, es decir, para cada consulta de la aplicación.</p>
<p>Debido a que no definimos resolutores para los campos del tipo <i>Person</i>, Apollo ha definido <a href="https://www.graphql-tools.com/docs/resolvers/#default-resolver">resolutores predeterminados</a> para ellos.
Funcionan como el que se muestra a continuación:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  Query<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">personCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    <span class="token function-variable function">allPersons</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">,</span>
    <span class="token function-variable function">findPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  Person<span class="token operator">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> root<span class="token punctuation">.</span>name<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">phone</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> root<span class="token punctuation">.</span>phone<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">street</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> root<span class="token punctuation">.</span>street<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">city</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> root<span class="token punctuation">.</span>city<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">id</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> root<span class="token punctuation">.</span>id</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="token punctuation">}</span></code></pre></div>
<p>El solucionador predeterminado devuelve el valor del campo correspondiente del objeto. Se puede acceder al objeto en sí a través del primer parámetro del resolutor, <em>root</em>.</p>
<p>Si la funcionalidad del solucionador predeterminado es suficiente, no es necesario que defina la suya propia. También es posible definir resolutores solo para algunos campos de un tipo y dejar que los resolutores predeterminados manejen el resto.</p>
<p>Podríamos, por ejemplo, definir que la dirección de todas las personas es <i>Manhattan Nueva York</i> codificando de forma rígida lo siguiente para los resolutores de los campos de calle y ciudad del tipo <i> Persona </i>.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">Person<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">street</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Manhattan&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">city</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;New York&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Objeto dentro de un objeto</h3>
<p>Modifiquemos un poco el esquema</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line">type Address <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  street<span class="token operator">:</span> String<span class="token operator">!</span></span><span class="gatsby-highlight-code-line">  city<span class="token operator">:</span> String<span class="token operator">!</span> </span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span></span>
type Person <span class="token punctuation">{</span>
  name<span class="token operator">:</span> String<span class="token operator">!</span>
  phone<span class="token operator">:</span> String
<span class="gatsby-highlight-code-line">  address<span class="token operator">:</span> Address<span class="token operator">!</span></span>  id<span class="token operator">:</span> <span class="token constant">ID</span><span class="token operator">!</span>
<span class="token punctuation">}</span>

type Query <span class="token punctuation">{</span>
  personCount<span class="token operator">:</span> Int<span class="token operator">!</span>
  allPersons<span class="token operator">:</span> <span class="token punctuation">[</span>Person<span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token operator">!</span><span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="token punctuation">}</span></code></pre></div>
<p>por lo que una persona ahora tiene un campo con el tipo <i>Address</i>, que contiene la calle y la ciudad.</p>
<p>Las consultas que requieren la dirección cambian a</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    phone 
    address <span class="token punctuation">{</span>
      city 
      street
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>y la respuesta ahora es un objeto persona, que <i>contiene</i> un objeto de dirección.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;findPerson&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;040-123543&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;address&quot;</span><span class="token operator">:</span>  <span class="token punctuation">{</span>
        <span class="token string">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Espoo&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tapiolankatu 5 A&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Todavía guardamos a las personas en el servidor de la misma manera que lo hacíamos antes.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">let</span> persons <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;040-123543&quot;</span><span class="token punctuation">,</span>
    street<span class="token operator">:</span> <span class="token string">&quot;Tapiolankatu 5 A&quot;</span><span class="token punctuation">,</span>
    city<span class="token operator">:</span> <span class="token string">&quot;Espoo&quot;</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">&quot;3d594650-3436-11e9-bc57-8b80ba54c431&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span></code></pre></div>
<p>Por lo tanto, los objetos de persona guardados en el servidor no son exactamente los mismos que los objetos de tipo <i>Person</i> GraphQL descritos en el esquema.</p>
<p>A diferencia del tipo <i>Person</i>, el tipo <i>Address</i> no tiene un campo <i>id</i> porque no se guardan en su propia estructura de datos en el servidor.</p>
<p>Debido a que los objetos guardados en la matriz no tienen un campo <i>address</i>, el resolutor predeterminado no es suficiente.
Agreguemos un resolutor para el campo <i>address</i> de tipo <i>Person</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  Query<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">personCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    <span class="token function-variable function">allPersons</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">,</span>
    <span class="token function-variable function">findPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  Person<span class="token operator">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token function-variable function">address</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> </span><span class="gatsby-highlight-code-line">        street<span class="token operator">:</span> root<span class="token punctuation">.</span>street<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        city<span class="token operator">:</span> root<span class="token punctuation">.</span>city</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="token punctuation">}</span></code></pre></div>
<p>Así que cada vez que un objeto <i>Person</i> es devuelto, los campos <i>name</i>, <i>phone</i> e <i>id</i> se devuelven utilizando sus resolutores predeterminados, pero el campo <i>address</i> se forma utilizando un resolutor autodefinido. El parámetro <em>root</em> de la función de resolución es el objeto-persona, por lo que la calle y la ciudad de la dirección se pueden tomar de sus campos.</p>
<p>El código actual de la aplicación se puede encontrar en <a href="https://github.com/fullstack-hy2020/graphql-phonebook-backend/tree/part8-1">Github</a>, rama <i>part8-1</i>.</p>
<h3>Mutaciones</h3>
<p>Agreguemos una funcionalidad para agregar nuevas personas a la agenda. En GraphQL, todas las operaciones que provocan un cambio se realizan con <a href="https://graphql.org/learn/queries/#mutations">mutaciones</a>. Las mutaciones se describen en el esquema como claves de tipo <i>Mutation</i>.</p>
<p>El esquema de una mutación para agregar una nueva persona tiene el siguiente aspecto:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type Mutation <span class="token punctuation">{</span>
  <span class="token function">addPerson</span><span class="token punctuation">(</span>
    name<span class="token operator">:</span> String<span class="token operator">!</span>
    phone<span class="token operator">:</span> String
    street<span class="token operator">:</span> String<span class="token operator">!</span>
    city<span class="token operator">:</span> String<span class="token operator">!</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="token punctuation">}</span></code></pre></div>
<p>A la mutación se le dan los detalles de la persona como parámetros. El parámetro <i>phone</i> es el único que admite valores NULL. La mutación también tiene un valor de retorno. El valor de retorno es de tipo <i>Person</i>, la idea es que los detalles de la persona agregada se devuelvan si la operación es exitosa y si no, nula. El valor del campo <i>id</i> no se proporciona como parámetro. Es mejor dejar la generación de una identificación para el servidor.</p>
<p>Las mutaciones también requieren un resolutor:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> v1<span class="token operator">:</span> uuid <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;uuid&#x27;</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>

<span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  Mutation<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">addPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>args<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token function">uuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
      persons <span class="token operator">=</span> persons<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
      <span class="token keyword">return</span> person
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La mutación agrega el objeto que se le dio como parámetro <em>args</em> al arreglo <em>persons</em>, y devuelve el objeto que agregó al arreglo.</p>
<p>El campo <i>id</i> recibe un valor único utilizando la librería <a href="https://github.com/kelektiv/node-uuid#readme">uuid</a>.</p>
<p>Se puede agregar una nueva persona con la siguiente mutación</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">mutation <span class="token punctuation">{</span>
  <span class="token function">addPerson</span><span class="token punctuation">(</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Pekka Mikkola&quot;</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;045-2374321&quot;</span>
    street<span class="token operator">:</span> <span class="token string">&quot;Vilppulantie 25&quot;</span>
    city<span class="token operator">:</span> <span class="token string">&quot;Helsinki&quot;</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
    phone
    address<span class="token punctuation">{</span>
      city
      street
    <span class="token punctuation">}</span>
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ten en cuenta que la persona se guarda en la matriz <em>persons</em> como</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Pekka Mikkola&quot;</span><span class="token punctuation">,</span>
  phone<span class="token operator">:</span> <span class="token string">&quot;045-2374321&quot;</span><span class="token punctuation">,</span>
  street<span class="token operator">:</span> <span class="token string">&quot;Vilppulantie 25&quot;</span><span class="token punctuation">,</span>
  city<span class="token operator">:</span> <span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">,</span>
  id<span class="token operator">:</span> <span class="token string">&quot;2b24e0b0-343c-11e9-8c2a-cb57c2bf804f&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Pero la respuesta a la mutación es</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;addPerson&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Pekka Mikkola&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;045-2374321&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Vilppulantie 25&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2b24e0b0-343c-11e9-8c2a-cb57c2bf804f&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Entonces, el resolutor del campo <i>address</i> del tipo <i>Person</i> formatea el objeto de respuesta en la forma correcta.</p>
<h3>Manejo de errores</h3>
<p>Si intentamos crear una nueva persona, pero los parámetros no se corresponden con la descripción del esquema, el servidor muestra un mensaje de error:</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/67154a621319c0a6b4c268bcaac92d42/5a190/5.png"/></picture>
<p>Por lo tanto, parte del manejo de errores se puede realizar automáticamente con <a href="https://graphql.org/learn/validation/">validación</a> GraphQL.</p>
<p>Sin embargo, GraphQL no puede manejar todo automáticamente. Por ejemplo, las reglas más estrictas para los datos enviados a una mutación deben agregarse manualmente.
Los errores de esas reglas son manejados por <a href="https://www.apollographql.com/docs/apollo-server/data/errors">el mecanismo de manejo de errores de Apollo Server</a>.</p>
<p>Bloqueemos agregar el mismo nombre al directorio telefónico varias veces:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> ApolloServer<span class="token punctuation">,</span> UserInputError<span class="token punctuation">,</span> gql <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;apollo-server&#x27;</span><span class="token punctuation">)</span></span>
<span class="token comment">// ...</span>

<span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
  Mutation<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">addPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UserInputError</span><span class="token punctuation">(</span><span class="token string">&#x27;Name must be unique&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          invalidArgs<span class="token operator">:</span> args<span class="token punctuation">.</span>name<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span></span>
      <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>args<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token function">uuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
      persons <span class="token operator">=</span> persons<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
      <span class="token keyword">return</span> person
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Entonces, si el nombre que se agregará ya existe en la agenda, arroje el error <em>UserInputError</em>.</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/1f8c1c7f0bc21f29a0d9c0ec0c9ee17e/5a190/6.png"/></picture>
<p>El código actual de la aplicación se puede encontrar en <a href="https://github.com/fullstack-hy2020/graphql-phonebook-backend/tree/part8-2">Github</a>, rama <i>part8-2</i>.</p>
<h3>Enum</h3>
<p>Agreguemos la posibilidad de filtrar la consulta que devuelve todas las personas con el parámetro <i>phone</i> para que solo devuelva personas con un número de teléfono</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">allPersons</span><span class="token punctuation">(</span><span class="token parameter">phone<span class="token operator">:</span> <span class="token constant">YES</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
    phone 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>o personas sin un número de teléfono</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">allPersons</span><span class="token punctuation">(</span><span class="token parameter">phone<span class="token operator">:</span> <span class="token constant">NO</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El esquema cambia así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">enum</span> YesNo <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token constant">YES</span></span><span class="gatsby-highlight-code-line">  <span class="token constant">NO</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span></span>
type Query <span class="token punctuation">{</span>
  personCount<span class="token operator">:</span> Int<span class="token operator">!</span>
<span class="gatsby-highlight-code-line">  <span class="token function">allPersons</span><span class="token punctuation">(</span>phone<span class="token operator">:</span> YesNo<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span>Person<span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span></span>  <span class="token function">findPerson</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token operator">!</span><span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="token punctuation">}</span></code></pre></div>
<p>El tipo <i>YesNo</i> es GraphQL <a href="https://graphql.org/learn/schema/#enumeration-types">enum</a>, o un enumerable, con dos valores posibles <i>YES</i> o <i>NO</i>. En la consulta <em>allPersons</em> el parámetro <em>phone</em> tiene el tipo <i>YesNo</i>, pero acepta valores NULL.</p>
<p>El solucionador cambia así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">Query<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">personCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  <span class="token function-variable function">allPersons</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>args<span class="token punctuation">.</span>phone<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> persons</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> <span class="token function-variable function">byPhone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span><span class="gatsby-highlight-code-line">      args<span class="token punctuation">.</span>phone <span class="token operator">===</span> <span class="token string">&#x27;YES&#x27;</span> <span class="token operator">?</span> person<span class="token punctuation">.</span>phone <span class="token operator">:</span> <span class="token operator">!</span>person<span class="token punctuation">.</span>phone</span><span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>byPhone<span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>  <span class="token function-variable function">findPerson</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<h3>Cambiar un número de teléfono</h3>
<p>Agreguemos una mutación para cambiar el número de teléfono de una persona. El esquema de esta mutación se ve como sigue:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type Mutation <span class="token punctuation">{</span>
  <span class="token function">addPerson</span><span class="token punctuation">(</span>
    name<span class="token operator">:</span> String<span class="token operator">!</span>
    phone<span class="token operator">:</span> String
    street<span class="token operator">:</span> String<span class="token operator">!</span>
    city<span class="token operator">:</span> String<span class="token operator">!</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Person
<span class="gatsby-highlight-code-line">  <span class="token function">editNumber</span><span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">    name<span class="token operator">:</span> String<span class="token operator">!</span></span><span class="gatsby-highlight-code-line">    phone<span class="token operator">:</span> String<span class="token operator">!</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">)</span><span class="token operator">:</span> Person</span><span class="token punctuation">}</span></code></pre></div>
<p>y lo hace un solucionador:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">Mutation<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function-variable function">editNumber</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> persons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> updatedPerson <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>person<span class="token punctuation">,</span> phone<span class="token operator">:</span> args<span class="token punctuation">.</span>phone <span class="token punctuation">}</span>
    persons <span class="token operator">=</span> persons<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name <span class="token operator">===</span> args<span class="token punctuation">.</span>name <span class="token operator">?</span> updatedPerson <span class="token operator">:</span> p<span class="token punctuation">)</span>
    <span class="token keyword">return</span> updatedPerson
  <span class="token punctuation">}</span>   
<span class="token punctuation">}</span></code></pre></div>
<p>La mutación encuentra a la persona que se actualizará mediante el campo <i>name</i>.</p>
<p>El código actual de la aplicación se puede encontrar en <a href="https://github.com/fullstack-hy2020/graphql-phonebook-backend/tree/part8-3">Github</a>, rama <i>part8-3</i>.</p>
<h3>Más sobre consultas</h3>
<p>Con GraphQL es posible combinar varios campos de tipo <i>Query</i>, o &quot;consultas separadas&quot; en una sola consulta. Por ejemplo, la siguiente consulta devuelve tanto la cantidad de personas en la agenda telefónica como sus nombres:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  personCount
  allPersons <span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La respuesta se ve como sigue</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;personCount&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">&quot;allPersons&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Matti Luukkainen&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Venla Ruuska&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La consulta combinada también puede usar la misma consulta varias veces. Sin embargo, debe dar a las consultas nombres alternativos como</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  havePhone<span class="token operator">:</span> <span class="token function">allPersons</span><span class="token punctuation">(</span><span class="token parameter">phone<span class="token operator">:</span> <span class="token constant">YES</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
  phoneless<span class="token operator">:</span> <span class="token function">allPersons</span><span class="token punctuation">(</span><span class="token parameter">phone<span class="token operator">:</span> <span class="token constant">NO</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La respuesta se ve como</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;havePhone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Arto Hellas&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Matti Luukkainen&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;phoneless&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Venla Ruuska&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>En en algunos casos, puede resultar beneficioso nombrar las consultas. Este es el caso especialmente cuando las consultas o mutaciones tienen <a href="https://graphql.org/learn/queries/#variables">parámetros</a>. Pronto entraremos en los parámetros.</p>
<p>Si hay varias consultas, Playground le pide que elija cuál de ellas ejecutar:</p>
<picture><img style="border-color:#D4FCB5" alt="intro2AI content" src="/static/0f06c367200859083e559542fedb9700/5a190/7.png"/></picture>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Ejercicios 8.1.-8.7.</h3>
<p>A través de los ejercicios, implementaremos un backend GraphQL para una pequeña biblioteca.
Comience con <a href="https://github.com/fullstack-hy2020/misc/blob/master/library-backend.js">este archivo</a>. ¡Recuerde <em>npm init</em> e instalar dependencias!</p>
<p>Tenga en cuenta que el código no funciona inicialmente porque la definición del esquema no está completa.</p>
<h4>8.1: El número de libros y autores</h4>
<p>Implementar consultas <em>bookCount</em> y <em>authorCount</em> que devuelven el número de libros y el número de autores.</p>
<p>La consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  bookCount
  authorCount
<span class="token punctuation">}</span></code></pre></div>
<p>debe devolver</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string">&quot;authorCount&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.2: Todos los libros</h4>
<p>Implementar la consulta <em>allBooks</em>, que devuelve los detalles de todos los libros.</p>
<p>Al final, el usuario debería poder realizar la siguiente consulta:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allBooks <span class="token punctuation">{</span> 
    title 
    author
    published 
    genres
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.3: Todos los autores</h4>
<p>Implementar la consulta <em>allAuthors</em>, que devuelve los detalles de todos autores. La respuesta debe incluir un campo <em>bookCount</em> que contenga el número de libros que ha escrito el autor.</p>
<p>Por ejemplo, la consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allAuthors <span class="token punctuation">{</span>
    name
    bookCount
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>debería devolver`</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;allAuthors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Robert Martin&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Martin Fowler&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Fyodor Dostoevsky&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Joshua Kerievsky&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sandi Metz&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.4: Libros de un autor</h4>
<p>Modifique la consulta <em>allBooks</em> para que un usuario pueda dar un parámetro opcional <i>author</i>. La respuesta debe incluir solo libros escritos por ese autor.</p>
<p>Por ejemplo, la consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">allBooks</span><span class="token punctuation">(</span>author<span class="token operator">:</span> <span class="token string">&quot;Robert Martin&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>debería devolver</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;allBooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Clean Code&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Agile software development&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.5: Libros por género</h4>
<p>Modifique la consulta <em>allBooks</em> para que un usuario pueda dar un parámetro opcional <i>genre</i>. La respuesta debe incluir solo libros de ese género.</p>
<p>Por ejemplo, la consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">allBooks</span><span class="token punctuation">(</span>genre<span class="token operator">:</span> <span class="token string">&quot;refactoring&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    title
    author
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>debería devolver</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;allBooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Clean Code&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Robert Martin&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Refactoring, edition 2&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Martin Fowler&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Refactoring to patterns&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Joshua Kerievsky&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Practical Object-Oriented Design, An Agile Primer Using Ruby&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sandi Metz&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La consulta debe funcionar cuando ambos parámetros opcionales son proporcionados:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  <span class="token function">allBooks</span><span class="token punctuation">(</span>author<span class="token operator">:</span> <span class="token string">&quot;Robert Martin&quot;</span><span class="token punctuation">,</span> genre<span class="token operator">:</span> <span class="token string">&quot;refactoring&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    title
    author
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.6: Agregar un libro</h4>
<p>Implementar la mutación <em>addBook</em>, que puede ser usado así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">mutation <span class="token punctuation">{</span>
  <span class="token function">addBook</span><span class="token punctuation">(</span>
    title<span class="token operator">:</span> <span class="token string">&quot;NoSQL Distilled&quot;</span><span class="token punctuation">,</span>
    author<span class="token operator">:</span> <span class="token string">&quot;Martin Fowler&quot;</span><span class="token punctuation">,</span>
    published<span class="token operator">:</span> <span class="token number">2012</span><span class="token punctuation">,</span>
    genres<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;database&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nosql&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">,</span>
    author
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La mutación funciona incluso si el autor no está todavía guardado en el servidor:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">mutation <span class="token punctuation">{</span>
  <span class="token function">addBook</span><span class="token punctuation">(</span>
    title<span class="token operator">:</span> <span class="token string">&quot;Pimeyden tango&quot;</span><span class="token punctuation">,</span>
    author<span class="token operator">:</span> <span class="token string">&quot;Reijo Mäki&quot;</span><span class="token punctuation">,</span>
    published<span class="token operator">:</span> <span class="token number">1997</span><span class="token punctuation">,</span>
    genres<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;crime&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">,</span>
    author
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Si el autor aún no está guardado en el servidor , se agrega un nuevo autor al sistema. Los años de nacimiento de los autores aún no se guardan en el servidor, entonces la consulta</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">query <span class="token punctuation">{</span>
  allAuthors <span class="token punctuation">{</span>
    name
    born
    bookCount
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>devuelve</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;allAuthors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ...</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Reijo Mäki&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;born&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bookCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>8.7: Actualización del año de nacimiento de un autor</h4>
<p>Implemente la mutación <em>editAuthor</em>, que se puede usar para establecer un año de nacimiento para un autor. La mutación se usa así</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">mutation <span class="token punctuation">{</span>
  <span class="token function">editAuthor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token string">&quot;Reijo Mäki&quot;</span><span class="token punctuation">,</span> setBornTo<span class="token operator">:</span> <span class="token number">1958</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
    born
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Si se encuentra el autor correcto, la operación devuelve el autor editado:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editAuthor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Reijo Mäki&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;born&quot;</span><span class="token operator">:</span> <span class="token number">1958</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Si el autor no está en el sistema, se devuelve <i>null</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editAuthor&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</div></div></div></div></div><div class="container spacing spacing--after-large prev-next__container "><a class="col-4--mobile push-right-1 prev" href="/es/part7"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->7</p><b>Parte anterior</b></div></a><div class="col-1--mobile separator"></div><a class="col-4--mobile push-left-1 next" href="/es/part8/react_y_graph_ql"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->8b</p><b>Siguiente parte</b></div></a></div></div><div class="container spacing--after-small spacing--mobile element--flex" id="footer"><div class="col-5 col-10--mobile order-2--mobile order-2--tablet footer__links element--flex element--space-between"><a href="https://bhp-public.oerproject.com/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="/static/theclock_white-8a20b9f3b37f487c380ad4de6ca50582.webp" alt="Sun water Internet"/></div></div></a></div><div class="col-5 col-5--mobile order-1--mobile order-1--tablet footer__navigation element--flex"><div class="footer__navigation-link-container"><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/#course-contents">homePage</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/faq">Preguntas frecuentes</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/companies">Partners</a></div></div></div></main><div class="footer footer--small" style="background-color:transparent"><div class="container" style="align-items:center;justify-content:center;display:flex"><a class="footer__logo" style="opacity:0;transition:opacity 1s ease-in" href="/about"><div class="triple-border nav-item-hover " style="background-color:black;color:white;padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent;z-index:10">Buy</div></div></a></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135975842-1', 'https://intro2AI.github.io/', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/es/part8/servidor_graph_ql";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-a19164b20ffba2a56707.js"],"app":["/app-6d0a74c6b0a59bb6d9ad.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1a8ed1dd237683510252.js"],"component---src-pages-about-en-js":["/component---src-pages-about-en-js-f1502b7794bc33efd522.js"],"component---src-pages-about-es-js":["/component---src-pages-about-es-js-b9aa721df2827ce67663.js"],"component---src-pages-about-js":["/component---src-pages-about-js-5d4477c098429e2d4871.js"],"component---src-pages-about-zh-js":["/component---src-pages-about-zh-js-fb6f734cfc041ee28605.js"],"component---src-pages-challenge-en-js":["/component---src-pages-challenge-en-js-5339564bd259d3dc0594.js"],"component---src-pages-challenge-es-js":["/component---src-pages-challenge-es-js-b65268674407dd2e652f.js"],"component---src-pages-challenge-js":["/component---src-pages-challenge-js-1a5768013b6a11920359.js"],"component---src-pages-challenge-zh-js":["/component---src-pages-challenge-zh-js-aa117e6ff36e37cdfa63.js"],"component---src-pages-companies-en-js":["/component---src-pages-companies-en-js-e104768cc95035cf6c78.js"],"component---src-pages-companies-es-js":["/component---src-pages-companies-es-js-ff2cd4cb35ab1f4b4909.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js-c565a79be43457a1044b.js"],"component---src-pages-companies-zh-js":["/component---src-pages-companies-zh-js-3aab9ed724de34de1504.js"],"component---src-pages-faq-en-js":["/component---src-pages-faq-en-js-33f83d1c5a973a286c67.js"],"component---src-pages-faq-es-js":["/component---src-pages-faq-es-js-499cc30bf9865e000794.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-d9c929b2af450857da4c.js"],"component---src-pages-faq-zh-js":["/component---src-pages-faq-zh-js-e23de3c66bd666128b61.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-5d472a81f4ad95bb5984.js"],"component---src-pages-index-es-js":["/component---src-pages-index-es-js-ffcb3e6d9dfe4ede3766.js"],"component---src-pages-index-js":["/component---src-pages-index-js-369664d7d0b13585e306.js"],"component---src-pages-index-zh-js":["/component---src-pages-index-zh-js-ef92158f1790cdc8259c.js"],"component---src-pages-search-en-js":["/component---src-pages-search-en-js-1aebf84680fc80001468.js"],"component---src-pages-search-js":["/component---src-pages-search-js-e8899517db8353f5db9f.js"],"component---src-pages-search-zh-js":["/component---src-pages-search-zh-js-d040ca92e38eb056be7d.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js-5a2eba52ac710f78d132.js"],"component---src-templates-part-intro-template-js":["/component---src-templates-part-intro-template-js-51af46bbdcc3adb55a49.js"]};/*]]>*/</script><script src="/polyfill-a19164b20ffba2a56707.js" nomodule=""></script><script src="/webpack-runtime-0d57736b146878155835.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/30844a71ec80b1e82ad30323d06b914984ff6c2b-55494ae4d2aa7cf0ada5.js" async=""></script><script src="/app-6d0a74c6b0a59bb6d9ad.js" async=""></script><script src="/e4b9374bcd292c90587e3ccf579324c3065ac22f-24bff6830e1bf9fb408f.js" async=""></script><script src="/ff8e348e8d42e8d61f84312613c75c948ce81396-7675dcb8ca214a497e52.js" async=""></script><script src="/component---src-templates-content-template-js-5a2eba52ac710f78d132.js" async=""></script><script src="/framework-a1179eda714587e8cda5.js" async=""></script><script src="/5d7a54886b2742230021cc39eab839038eb7a677-2a4fb02526d2ee9cb0a8.js" async=""></script></body></html>